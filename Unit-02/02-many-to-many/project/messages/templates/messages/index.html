{% extends 'base.html' %}
{% block content %}
    <h1 class="text-center">Message Listing for <a href="{{url_for('users.show', id=user.id)}}">{{ user.user_name }}</a></h1>
    <div class="container">
        <p><a href="{{url_for('users.index')}}">List all Users</a></p>
        <table class="table table-striped">
            <tr>
                <th>Message</th>
            </tr>
            {% for msg in messages %}
            <tr>
                <td><a href="{{url_for('messages.show', user_id=msg.user_id, msg_id=msg.id)}}">{{ msg.message }}</a></td>
            </tr>
            <p>Tags</p>
            {% for tag msg.tags %}
            <p>{{ tag.text }} | <a href="{{url_for('tags.edit', tag_id=tag.id)}}">Edit this tag!</a></p>
            {% endfor %}
        {% endfor %}
        </table>
        <p><a href="{{url_for('messages.new', user_id=user.id)}}">Add a message</a></p>
    </div>
{% endblock %}